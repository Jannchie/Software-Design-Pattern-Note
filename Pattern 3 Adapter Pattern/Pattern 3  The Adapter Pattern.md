# Pattern 3: The Adapter Pattern  适配器模式

## Summary——概述

**适配器模式**（Adapter Pattern）是一种结构型模式，我们用它来连接两个不兼容的接口（Interface）。那什么是接口？接口是对象（类）的所有暴露给外界的方法的全体，类的接口提供外部视图。

---

## Example——一个适配器的例子

生活中到处都是适配器。比如我现在所使用的笔记本电脑，他需要一个适配器使得标准民用电压转换为笔记本电脑所可以使用的电压。换句话说，电源适配器能够改变电源的接口，使之能够符合笔记本电脑使用的要求。

---

## Why——为什么要使用适配器

对于面向对象的软件系统而言，整个系统都是一个又一个类组装而成的，在很多时候，我们在设计软件时需要使用别的公司或团队编写的类库，但是我们系统和他们系统所预留的接口很可能并不一致，所以我们需要一个适配器类将别人的接口转换为自己可用的接口。

#### 使用适配器的优点

适配器模式使用了组合或继承的方式，将不兼容的两个类能够协调运行，提高了类的复用率，有更好的灵活性。

---

## How——如何实现对象适配器

对象适配器分为两种，我们先来看看对象适配器。

一个简单的对象适配器的类图如下所示：

  ![对象适配器类图](https://raw.githubusercontent.com/Jannchie/Software-Design-Pattern-Note/master/Pattern%203%20The%20Adapter%20Pattern/3-1.png)

上述类图虽然简单，但是这些类的关系也还是比较复杂的，下面我们来讨论一下如何理解他们之间的关系：

- 从左往右看，第一个箭头表示，客户拥有一个Target接口。

- Adapter作为一个适配器，代替Adaptee被实现。由于Adapter最终是要实现Target接口的方法，他们之间是实现的关系。

- Adapter类与Adaptee类属于关联关系，Adapter有一个Adaptee的变量。Adaptee是待适配的类。我们要在Adapter中把Adaptee类中的方法转换为Target接口所接收的方法。
 

#### 使用对象适配器的优点

使用对象适配器使用的是组合的方式，能够更有弹性。

---

还有一种适配器叫做类适配器。类图如下：

  ![类适配器类图](https://raw.githubusercontent.com/Jannchie/Software-Design-Pattern-Note/master/Pattern%203%20The%20Adapter%20Pattern/3-2.png)

对比可以看出，对象适配器使用的是组合，类适配器使用的是继承。由于在java中不允许多重继承，所以不会出现，但是在例如C++的可以多重继承的语言中，这种类适配器可能有用。

通过多重继承，使得被适配者的方法能够直接转接到目标所需的方法中。

#### 使用类适配器的优点

通过继承可以不用重新实现被适配者，在被适配者加入了新的行为的时候也不需要做出改变。

## 结语

通过使用适配器，能够将许许多多本来不兼容的类库结合在一起。生活中处处存在适配器，所以这是一个非常好理解的概念。软件设计中的适配器更加强大，只要灵活地去运用，就可以非常便利地使用别人提供的类，这对提高开发效率是非常有助益的。